<app-auth-layout>
  <!-- Welcome heading -->
  <div
    class="!font-['Poppins'] !text-[55px] !font-semibold text-black text-center mb-2 !tracking-tighter !leading-[54px] block w-full">
    Welcome Back
  </div>
  <p class="text-[15px] font-medium text-gray-700 text-center mb-8">
    Login with email or username
  </p>

  <!-- Login form -->
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="w-full">
    <!-- Email / Username field -->
    <div class="mb-6">
      <label for="username" class="block text-[14px] font-semibold text-black mb-2">
        Email / username
      </label>
      <div class="flex items-center bg-white border rounded-[10px] overflow-hidden transition-all duration-200 h-[52px]"
        [ngClass]="{
          'border-[#3285DD] ring-4 ring-[#3285DD]/10': username?.dirty || username?.touched,
          'border-red-600': username?.invalid && (username?.touched || username?.dirty),
          'border-gray-300': !username?.dirty && !username?.touched
        }">
        <span class="px-4 flex-shrink-0">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#888"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
            <circle cx="12" cy="7" r="4" />
          </svg>
        </span>
        <input id="username" formControlName="username" type="text" placeholder="Enter email or username"
          class="flex-1 bg-transparent border-none outline-none text-[15px] text-black pr-4 placeholder:text-gray-400" />
      </div>
      <p *ngIf="username?.invalid && (username?.touched || username?.dirty)"
        class="text-[13px] text-red-600 mt-1.5 ml-1">
        Username is required
      </p>
    </div>

    <!-- Password field -->
    <div class="mb-6">
      <label for="password" class="block text-[14px] font-semibold text-black mb-2">
        Password
      </label>
      <div class="flex items-center bg-white border rounded-[10px] overflow-hidden transition-all duration-200 h-[52px]"
        [ngClass]="{
          'border-[#3285DD] ring-4 ring-[#3285DD]/10': password?.dirty || password?.touched,
          'border-red-600': password?.invalid && (password?.touched || password?.dirty),
          'border-gray-300': !password?.dirty && !password?.touched
        }">
        <span class="px-4 flex-shrink-0">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#888"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
            <path d="M7 11V7a5 5 0 0 1 10 0v4" />
          </svg>
        </span>
        <input id="password" formControlName="password" type="password" placeholder="Enter password"
          class="flex-1 bg-transparent border-none outline-none text-[15px] text-black pr-4 placeholder:text-gray-400" />
      </div>
      <p *ngIf="password?.invalid && (password?.touched || password?.dirty)"
        class="text-[13px] text-red-600 mt-1.5 ml-1">
        <span *ngIf="password?.errors?.['required']">Password is required</span>
        <span *ngIf="password?.errors?.['minlength']">Min. 6 characters required</span>
      </p>
    </div>

    <!-- Forgot password link -->
    <div class="text-right mb-8">
      <a routerLink="/login/forgot-password"
        class="text-[14px] font-semibold text-gray-800 hover:text-[#3285DD] transition-colors duration-200">
        Forgot your password?
      </a>
    </div>

    <!-- General Error -->
    <div *ngIf="errorMessage" class="text-center text-[14px] text-red-600 mb-4 p-2.5 bg-red-50 rounded-lg">
      {{ errorMessage }}
    </div>

    <!-- Login button -->
    <button type="submit" [disabled]="isLoading"
      class="w-full bg-[#3285DD] hover:bg-[#2a74c5] active:scale-[0.98] text-white py-3.5 rounded-[10px] text-[18px] font-bold transition-all duration-200 shadow-lg shadow-blue-500/20 disabled:bg-[#91bde8] disabled:cursor-not-allowed disabled:shadow-none">
      <span *ngIf="!isLoading">Login</span>
      <span *ngIf="isLoading">Logging in...</span>
    </button>

    <!-- Create User link -->
    <div class="mt-6 text-center">
      <p class="text-[14px] text-gray-600">
        Don't have an account?
        <a routerLink="/login/create-user" class="font-bold text-[#3285DD] hover:underline transition-all">
          Create User
        </a>
      </p>
    </div>
  </form>
</app-auth-layout>