<div class="font-sans">
  <div class="max-w-7xl mx-auto bg-white shadow-2xl rounded-3xl p-6 sm:p-10 transition-all duration-300">

    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4 border-b pb-4">
      <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900">
        Unit List
      </h2>

      <div class="flex flex-col sm:flex-row gap-3 w-full sm:w-auto">
        <button (click)="openCreateForm()" type="button"
          class="px-6 py-2.5 bg-emerald-600 text-white rounded-xl text-sm font-semibold shadow-md hover:bg-emerald-700 transition-all duration-150 active:scale-95 focus:ring focus:ring-emerald-300 focus:ring-offset-2 w-full sm:w-auto">
          <span class="inline-flex items-center">
            <svg class="h-5 w-5 mr-1.5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
            </svg>
            New Unit
          </span>
        </button>
      </div>
    </div>

    <div class="mb-6">
      <div class="relative w-full sm:w-64">
        <input
          type="text"
          [(ngModel)]="searchTerm"
          (input)="searchList()"
          placeholder="Search by Unit Name"
          class="w-full pl-4 pr-4 py-2.5 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm transition-all duration-200"
        />
      </div>
    </div>

    <div class="overflow-x-auto shadow-lg rounded-xl border border-gray-200">
      <table class="w-full border-collapse min-w-[800px]">
        <thead class="bg-gray-800 text-white sticky top-0 shadow-md">
          <tr>
            <th class="px-6 py-4 text-left text-sm font-medium rounded-tl-xl">ID</th>
            <th class="px-6 py-4 text-left text-sm font-medium">Name</th>
            <th class="px-6 py-4 text-left text-sm font-medium">Description</th>
            <th class="px-6 py-4 text-left text-sm font-medium">Address</th>
            <th class="px-6 py-4 text-center text-sm font-medium rounded-tr-xl">Actions</th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-100">
          <tr *ngFor="let unit of units; even as isEven" class="border-t border-gray-100 transition-colors hover:bg-blue-50"
              [class.bg-white]="!isEven" [class.bg-gray-50]="isEven">
            <td class="px-6 py-4 text-sm font-medium text-gray-800">{{ unit.id }}</td>
            <td class="px-6 py-4 text-sm text-gray-700 font-semibold">{{ unit.name }}</td>
            <td class="px-6 py-4 text-sm text-gray-600">{{ unit.description }}</td>
            <td class="px-6 py-4 text-sm text-gray-600">{{ unit.address }}</td>
            <td class="px-6 py-4 text-center text-sm flex flex-col sm:flex-row justify-center gap-3">
              <button
                class="px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-150 shadow-sm"
                [ngClass]="unit.active ? 'bg-red-600 text-white hover:bg-red-700' : 'bg-emerald-600 text-white hover:bg-emerald-700'"
                [disabled]="toggleInProgress.has(unit.id!)"
                (click)="toggleUnitStatus(unit)">
                {{ unit.active ? 'Deactivate' : 'Activate' }}
              </button>
              <button
                class="bg-blue-600 text-white px-4 py-2 rounded-xl text-sm font-semibold hover:bg-blue-700 transition-all duration-150 shadow-sm"
                (click)="openEditForm(unit)">
                Edit
              </button>
            </td>
          </tr>

          <tr *ngIf="!units || units.length === 0">
            <td colspan="5" class="text-center p-8 text-lg text-gray-500 bg-gray-50">
              No units found matching your search criteria.
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>