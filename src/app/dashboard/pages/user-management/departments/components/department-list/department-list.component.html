<div class="font-sans">
  <!-- Card Container -->
  <div class="max-w-7xl mx-auto bg-white shadow-2xl rounded-3xl p-6 sm:p-10 transition-all duration-300">

    <!-- Header Section -->
    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8 gap-4 border-b pb-4">
      <h2 class="text-3xl sm:text-4xl font-extrabold text-gray-900">
        Departments Management
      </h2>

      <!-- Create Department Button -->
      <button
        (click)="openForm()"
        class="px-6 py-2.5 bg-indigo-600 text-white rounded-xl text-sm font-semibold shadow-md hover:bg-indigo-700 transition-all duration-150 active:scale-95 focus:ring focus:ring-indigo-300 focus:ring-offset-2 w-full sm:w-auto"
      >
        <span class="inline-flex items-center">
          <svg class="h-5 w-5 mr-1.5" xmlns="http://www.w3.org/2000/svg" fill="none"
            viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
          </svg>
          Add New Department
        </span>
      </button>
    </div>

    <!-- Success Message -->
    <div
      *ngIf="successMessage"
      class="bg-green-500 text-white p-3 rounded-xl mb-6 text-center shadow-md"
    >
      {{ successMessage }}
    </div>

    <!-- Table Section -->
    <div class="overflow-x-auto shadow-lg rounded-xl border border-gray-200">
      <table class="w-full border-collapse min-w-[800px]">

        <!-- Table Header -->
        <thead class="bg-indigo-600 text-white sticky top-0 shadow-md">
          <tr>
            <th class="px-6 py-4 text-left text-sm font-medium rounded-tl-xl">Department Head</th>
            <th class="px-6 py-4 text-left text-sm font-medium">Department Name</th>
            <th class="px-6 py-4 text-center text-sm font-medium rounded-tr-xl">Actions</th>
          </tr>
        </thead>

        <!-- Table Body -->
        <tbody class="bg-white divide-y divide-gray-100">
          <tr
            *ngFor="let dept of departments; even as isEven"
            class="transition-colors hover:bg-indigo-50"
            [class.bg-white]="!isEven"
            [class.bg-gray-50]="isEven"
          >
            <td class="px-6 py-4 text-sm font-medium text-gray-800">
              {{ dept.departmentHeadFirstName && dept.departmentHeadLastName
                ? dept.departmentHeadFirstName + ' ' + dept.departmentHeadLastName
                : 'N/A' }}
            </td>

            <td class="px-6 py-4 text-sm text-gray-700 font-semibold">
              {{ dept.name }}
            </td>

            <td class="px-6 py-4 text-center text-sm flex flex-col sm:flex-row items-center justify-center gap-3">

              <!-- Edit Button -->
              <button
                (click)="openForm(dept)"
                class="px-4 py-2 bg-yellow-500 text-white rounded-full text-sm font-medium shadow-sm hover:bg-yellow-600 transition-all duration-150 active:scale-95 focus:ring focus:ring-yellow-300"
              >
                Edit
              </button>

              <!-- (Optional) Delete Button -->
              <!--
              <button
                (click)="deleteDepartment(dept.id!)"
                class="px-4 py-2 bg-red-500 text-white rounded-full text-sm font-medium shadow-sm hover:bg-red-600 transition-all duration-150 active:scale-95 focus:ring focus:ring-red-300"
              >
                Delete
              </button>
              -->
            </td>
          </tr>

          <!-- No Data -->
          <tr *ngIf="!departments || departments.length === 0">
            <td colspan="3" class="text-center p-8 text-lg text-gray-500 bg-gray-50">
              No departments found.
            </td>
          </tr>
        </tbody>

      </table>
    </div>
  </div>
</div>
