<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40 p-4">
  <!-- Modal Card -->
  <div class="bg-white w-full max-w-xl mx-auto p-8 rounded-3xl shadow-2xl relative animate-fadeIn">

    <!-- Modal Title -->
    <h3 class="text-3xl font-extrabold text-gray-900 mb-8 text-center">
      {{ isEditMode ? 'Edit Department' : 'Create Department' }}
    </h3>

    <!-- Form -->
    <form [formGroup]="form" class="space-y-6" (ngSubmit)="save()">

      <!-- Department Name -->
      <div>
        <label for="department-name" class="block text-sm font-semibold text-gray-700 mb-2">
          Department Name
        </label>
        <input
          id="department-name"
          type="text"
          formControlName="name"
          placeholder="Enter department name"
          class="w-full p-3.5 rounded-xl border-2 border-gray-300 focus:border-indigo-500
                 focus:ring-2 focus:ring-indigo-300 transition-all duration-200 text-gray-900"
        />
        <p
          class="mt-2 text-sm text-red-600"
          *ngIf="form.get('name')?.touched && form.get('name')?.hasError('required')"
        >
          Name is required
        </p>
      </div>

      <!-- Department Head -->
      <div *ngIf="departmentHeads.length > 0">
        <label for="department-head" class="block text-sm font-semibold text-gray-700 mb-2">
          Department Head
        </label>
        <select
          id="department-head"
          formControlName="departmentHeadId"
          class="w-full p-3.5 rounded-xl border-2 border-gray-300 bg-white
                 focus:border-indigo-500 focus:ring-2 focus:ring-indigo-300 transition-all duration-200 text-gray-900"
        >
          <option [value]="null">Select a department head</option>
          <ng-container *ngFor="let head of departmentHeads">
            <option [value]="head.id">
              {{ head.firstName }} {{ head.lastName }}
            </option>
          </ng-container>
        </select>
      </div>

      <!-- Action Buttons -->
      <div class="flex flex-col sm:flex-row justify-end gap-4 pt-4">
        
        <!-- Cancel -->
        <button
          type="button"
          (click)="close()"
          class="px-6 py-2.5 rounded-xl bg-gray-200 text-gray-700 font-semibold 
                 hover:bg-gray-300 transition-all duration-200 shadow-sm active:scale-95"
        >
          Cancel
        </button>

        <!-- Submit -->
        <button
          type="submit"
          [disabled]="form.invalid"
          class="px-6 py-2.5 rounded-xl text-white font-semibold shadow-md active:scale-95
                 transition-all duration-150 disabled:opacity-40 disabled:cursor-not-allowed"
          [ngClass]="
            isEditMode
              ? 'bg-indigo-600 hover:bg-indigo-700 focus:ring focus:ring-indigo-300'
              : 'bg-green-600 hover:bg-green-700 focus:ring focus:ring-green-300'
          "
        >
          {{ isEditMode ? 'Update' : 'Create' }}
        </button>

      </div>

    </form>

  </div>
</div>
