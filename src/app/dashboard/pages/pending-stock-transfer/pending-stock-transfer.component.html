<div class="p-4 sm:p-8 bg-gray-100 min-h-screen font-sans">
  <!-- Main Card Container -->
  <div class="max-w-7xl mx-auto bg-white shadow-2xl rounded-3xl p-6 sm:p-10 transition-all duration-300">

    <!-- Header -->
    <h2 class="text-3xl sm:text-4xl font-extrabold mb-8 text-gray-900">
      Inventory Stock Transfers
    </h2>

    <!-- Tabs Container -->
    <div class="flex space-x-2 sm:space-x-6 border-b-2 border-gray-200 mb-8">
      <button
        class="pb-3 px-3 sm:px-4 text-base sm:text-lg font-semibold transition-all duration-200 focus:outline-none"
        [class.border-b-4]="activeTab === 'PENDING'"
        [class.border-indigo-600]="activeTab === 'PENDING'"
        [class.text-indigo-700]="activeTab === 'PENDING'"
        [class.text-gray-500]="activeTab !== 'PENDING'"
        [class.hover:text-indigo-500]="activeTab !== 'PENDING'"
        (click)="setActiveTab('PENDING')"
      >
        Pending Transfers
      </button>

      <button
        class="pb-3 px-3 sm:px-4 text-base sm:text-lg font-semibold transition-all duration-200 focus:outline-none"
        [class.border-b-4]="activeTab === 'APPROVED'"
        [class.border-green-600]="activeTab === 'APPROVED'"
        [class.text-green-700]="activeTab === 'APPROVED'"
        [class.text-gray-500]="activeTab !== 'APPROVED'"
        [class.hover:text-green-500]="activeTab !== 'APPROVED'"
        (click)="setActiveTab('APPROVED')"
      >
        Approved Transfers
      </button>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="p-10 text-center text-xl text-gray-600 bg-gray-50 rounded-xl shadow-inner">
      <svg class="animate-spin h-6 w-6 mr-3 inline text-indigo-500" viewBox="0 0 24 24">...</svg>
      Loading stock transfers...
    </div>

    <!-- Table Container for Responsive Scroll -->
    <div class="overflow-x-auto shadow-lg rounded-xl border border-gray-200">
      
      <!-- PENDING TRANSFERS Table -->
      <div *ngIf="!loading && activeTab === 'PENDING'">
        <table class="w-full border-collapse min-w-[1300px]">
          <thead class="bg-indigo-600 text-white sticky top-0 shadow-md">
            <tr>
              <th class="p-4 text-left text-sm font-medium rounded-tl-xl">ID</th>
              <th class="p-4 text-left text-sm font-medium">Item</th>
              <th class="p-4 text-left text-sm font-medium">Quantity</th>
              <th class="p-4 text-left text-sm font-medium">From Store</th>
              <th class="p-4 text-left text-sm font-medium">To Store </th>
              <th class="p-4 text-left text-sm font-medium">Requested by</th>
              <th class="p-4 text-left text-sm font-medium">Reason </th>
              <th class="p-4 text-left text-sm font-medium">Status</th>
              <th class="p-4 text-left text-sm font-medium">Created</th>
              <th class="p-4 text-left text-sm font-medium">Last Updated</th>
              <th class="p-4 text-center text-sm font-medium rounded-tr-xl">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr 
                *ngFor="let transfer of pendingTransfers; even as isEven" 
                class="border-t border-gray-100 transition-colors hover:bg-yellow-50"
                [class.bg-white]="!isEven"
                [class.bg-gray-50]="isEven">

              <td class="p-4 text-sm font-medium text-gray-800">{{ transfer.id }}</td>
              <td class="p-4 text-sm text-gray-700">{{ transfer.item.name }}</td>
              <td class="p-4 text-sm text-gray-700">{{ transfer.quantity }}</td>
              <td class="p-4 text-sm text-gray-700">{{ transfer.sourceStore.name }}</td>
              <td class="p-4 text-sm text-gray-700">{{ transfer.destinationStore.name }}</td>
              <td class="p-4 text-sm text-gray-700">{{ transfer.initiatedBy.username }}</td>
              <td class="p-4 text-sm text-gray-700 max-w-xs truncate">{{ transfer.reason }}</td>
              <td class="p-4 text-center">
                <span class="inline-flex items-center px-3 py-1.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-800">
                    {{ transfer.status }}
                </span>
              </td>
              <td class="p-4 text-sm text-gray-500">{{ transfer.createdAt }}</td>
              <td class="p-4 text-sm text-gray-500">{{ transfer.updatedAt }}</td>
              <td class="p-4 text-center">
                <button
                  (click)="approveTransfer(transfer.id)"
                  class="bg-indigo-600 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-md hover:bg-indigo-700 transition-all duration-150 active:scale-95 focus:ring focus:ring-indigo-300 focus:ring-offset-2"
                >
                  Approve
                </button>
              </td>
            </tr>
            <tr *ngIf="!pendingTransfers.length">
              <td colspan="11" class="text-center p-8 text-lg text-gray-500 bg-gray-50">
                ðŸ¥³ Excellent! No pending stock transfers require action.
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- APPROVED TRANSFERS Table -->
      <div *ngIf="!loading && activeTab === 'APPROVED'">
        <table class="w-full border-collapse min-w-[1300px]">
          <thead class="bg-green-600 text-white sticky top-0 shadow-md">
            <tr>
              <th class="p-4 text-left text-sm font-medium rounded-tl-xl">ID</th>
              <th class="p-4 text-left text-sm font-medium">Item</th>
              <th class="p-4 text-left text-sm font-medium">Quantity</th>
              <th class="p-4 text-left text-sm font-medium">From Store</th>
              <th class="p-4 text-left text-sm font-medium">To Store </th>
              <th class="p-4 text-left text-sm font-medium">Requested by</th>
              <th class="p-4 text-left text-sm font-medium">Reason </th>
              <th class="p-4 text-left text-sm font-medium">Status</th>
              <th class="p-4 text-left text-sm font-medium">Created</th>
              <th class="p-4 text-left text-sm font-medium">Last Updated</th>
              <th class="p-4 text-center text-sm font-medium rounded-tr-xl">Action</th>
            </tr>
          </thead>
          <tbody>
            <tr 
                *ngFor="let transfer of approvedTransfers; even as isEven" 
                class="border-t border-gray-100 transition-colors hover:bg-green-50"
                [class.bg-white]="!isEven"
                [class.bg-gray-50]="isEven">
              
              <td class="p-4 text-sm font-medium text-gray-800">{{ transfer.id }}</td>
              <td class="p-4 text-sm text-gray-700">{{ transfer.item.name }}</td>
              <td class="p-4 text-sm text-gray-700">{{ transfer.quantity }}</td>
              <td class="p-4 text-sm text-gray-700">{{ transfer.sourceStore.name }}</td>
              <td class="p-4 text-sm text-gray-700">{{ transfer.destinationStore.name }}</td>
              <td class="p-4 text-sm text-gray-700">{{ transfer.initiatedBy.username }}</td>
              <td class="p-4 text-sm text-gray-700 max-w-xs truncate">{{ transfer.reason }}</td>
              <td class="p-4 text-center">
                <span class="inline-flex items-center px-3 py-1.5 rounded-full text-xs font-semibold bg-green-100 text-green-800">
                    {{ transfer.status }}
                </span>
              </td>
              <td class="p-4 text-sm text-gray-500">{{ transfer.createdAt }}</td>
              <td class="p-4 text-sm text-gray-500">{{ transfer.updatedAt }}</td>
              <td class="p-4 text-center">
                <button
                  (click)="receiveTransfer(transfer.id)"
                  class="bg-green-600 text-white px-4 py-2 rounded-full text-sm font-semibold shadow-md hover:bg-green-700 transition-all duration-150 active:scale-95 focus:ring focus:ring-green-300 focus:ring-offset-2"
                >
                  Mark as Received
                </button>
              </td>
            </tr>
            <tr *ngIf="!approvedTransfers.length">
              <td colspan="11" class="text-center p-8 text-lg text-gray-500 bg-gray-50">
                No active approved transfers are currently in transit.
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>